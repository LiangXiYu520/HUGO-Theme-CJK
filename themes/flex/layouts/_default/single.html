{{ define "main" }}
    <div class="heading-wrap">
    {{ partial "heading.html" . }}
    <section class="tag">
    <div class="des1">
    <time datetime="{{ .Date.Format "2006-01-02" }}">
  {{ .Date.Format "2006-01-02" }}
{{ if ne .Date .Lastmod }}> {{ .Lastmod.Format "06-01-02" }}{{ end }}</time>　
  <span>{{- .WordCount }} 字</span>
  {{ partial "sourcecode.html" . }}
    </div>
    <div class="des1">
    {{- with .Params.author -}}
        　<span class="des2">作者</span>
        {{- range . -}}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
        <span class="des1-cate"><a href="/author/{{ $name }}">@{{- $name -}}</a></span>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{- with .Params.series -}}
        　<span class="des2">系列</span>
        {{- range . -}}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
        <span class="des1-cate"><a href="/series/{{ $name }}">{{- $name -}}｜</a></span>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{- with .Params.tags -}}
        　<span class="des2">標籤</span>
        {{- range . -}}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "tags/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "tags/%s" ($name | urlize))) -}}
        <span class="des1-cate"><a href="/tags/{{ $name }}">#{{- $name -}}</a></span>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{- with .Params.notes -}}
        　<span class="des2">備註</span>
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "notes/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "notes/%s" ($name | urlize))) -}}
        <span class="des1-cate"><a href="/notes/{{ $name }}">({{- $name -}})</a></span>
        {{ end -}}
        {{ end }}
    {{- end }}
  </div>
<div class="des1">
    {{- if .Params.contentCopyright -}}
    <span class="des2">版權 </span>{{ .Params.contentCopyright | safeHTML }}
    {{- else -}}
    <span class="des2">版權 </span>{{ .Site.Params.contentCopyright | safeHTML }}
    {{- end -}}
</div>
</section>
    <nav class="pagi-wrap">
    <div class="pagi">
      {{ with .PrevInSection }}
        <span class=".pagi-prev">← <a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a></span>
        {{- end }}
    {{ with .NextInSection }}
          <span class=".pagi-next"><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> →</span>
    {{- end }}
    </div>
  </nav>
    </div>
    <main>
{{ if or .Params.vertical (and .Site.Params.vertical (ne .Params.vertical false)) }}
<div class="vertical-wrap">
{{ if .TableOfContents }}
<aside class="toc">
<li class="toc-item">{{ .TableOfContents }}</li>
</aside>
{{ end }}
    <article class="DocSearch-content vertical">
    {{ .Content }}
    </article>
  </div>
      {{ else }}
      <div>
    {{ if .TableOfContents }}
      <aside class="toc sticky">
      <li class="toc-item">{{ .TableOfContents }}</li>
    </aside>
    {{ end }}
         <article class="DocSearch-content vertical-false">
            {{ .Content }}
          </article>
      </div>
    {{ end }}
<nav style="max-width:47em;margin:0 auto;background:var(--shallowblue);padding:1px 1em 0;border-radius:3em">
  <h3 style="color:var(--gray);text-align:center;margin-bottom:-1em">爲您推薦</h3>
  {{ $current := . }}
  {{ $articles := where (where $.Site.Pages ".Kind" "eq" "page" ) ".Title" "!=" $current.Title }}
  {{ $3relevant := slice }}
  {{ $4relevant := slice }}
  {{ $6relevant := slice }}
  {{ $7relevant := slice }}
  {{ $9relevant := slice }}
  {{ $10relevant := slice }}
  {{ $13relevant := slice }}
  {{ $recommend := slice }}
  {{ $5recommend := slice }}
  {{ $10recommend := slice }}
  {{ $20recommend := slice }}
  {{ $30recommend := slice }}
  {{ $6to10recommend := slice }}
  {{ $6to20recommend := slice }}
  {{ $11to20recommend := slice }}
  {{ $21to30recommend := slice }}
  {{ range $idx, $article := $articles }}
  {{ $1intersection := len (intersect $article.Params.series $current.Params.series) }}
  {{ $1weighted := mul 4 $1intersection }}
  {{ $2intersection := len (intersect $article.Params.categories $current.Params.categories) }}
  {{ $2weighted := mul 3 $2intersection }}
  {{ $3intersection := len (intersect $article.Params.tags $current.Params.tags) }}
  {{ $3weighted := mul 3 $3intersection }}
  {{ $4weighted  := add $1weighted $2weighted }}
  {{ $5weighted  := add $3weighted $4weighted }}
  {{ if (ge $5weighted 13) }}
  {{ $13relevant = $13relevant | append $article }}
  {{ else if (ge $5weighted 10) }}
  {{ $10relevant = $10relevant | append $article }}
  {{ else if (eq $5weighted 9) }}
  {{ $9relevant = $9relevant | append $article }}
  {{ else if (eq $5weighted 7) }}
  {{ $7relevant = $7relevant | append $article }}
  {{ else if (eq $5weighted 6) }}
  {{ $6relevant = $6relevant | append $article }}
  {{ else if (eq $5weighted 4) }}
  {{ $4relevant = $4relevant | append $article }}
  {{ else if (eq $5weighted 3) }}
    {{ $3relevant = $3relevant | append $article }}
  {{ end }}
  {{ end }}
  {{ range $13relevant }}
      {{ $recommend = $recommend | append . }}
  {{ end }}
  {{ range $10relevant }}
      {{ $recommend = $recommend | append . }}
  {{ end }}
  {{ range $9relevant }}
      {{ $recommend = $recommend | append . }}
  {{ end }}
  {{ range $7relevant }}
      {{ $recommend = $recommend | append . }}
  {{ end }}
  {{ range $6relevant }}
      {{ $recommend = $recommend | append . }}
  {{ end }}
  {{ range $4relevant }}
      {{ $recommend = $recommend | append . }}
  {{ end }}
  {{ range $3relevant }}
       {{ $recommend = $recommend | append . }}
  {{ end }}

      {{- range shuffle (first 5 $recommend) -}}
          {{ $5recommend = $5recommend | append . }}
       {{ end }}
       {{- range shuffle (first 10 $recommend) -}}
           {{ $10recommend = $10recommend | append . }}
        {{ end }}
      {{ range shuffle (first 20 $recommend)  }}
         {{ $20recommend = $20recommend | append . }}
      {{ end }}
      {{ range shuffle (first 30 $recommend) }}
         {{ $30recommend = $30recommend | append . }}
      {{ end }}
    {{ $6to10recommend = $10recommend | complement  $5recommend | shuffle }}
    {{ $6to20recommend = $20recommend | complement  $5recommend | shuffle }}
    {{ $11to20recommend = $20recommend | complement  $10recommend | shuffle }}
    {{ $21to30recommend = $30recommend | complement  $20recommend | shuffle }}
    <div class="discover-wrap latest">
    <div class="discover categories">
  {{ if ge (len $recommend) 21 }}
    {{- range first 3 $recommend | shuffle -}}
    <ol style="margin:1.5em auto">
    <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
    <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>
    <div class="des2 home">
      {{- with .Params.author -}}
          {{ range . }}
          {{- $name := . -}}
          {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
          <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
          {{- end -}}
          {{- end -}}
      {{- end -}}
      {{ with .Params.categories -}}
          {{ range . }}
          {{- $name := . -}}
          {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
            &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
          {{ end -}}
          {{ end }}
      {{- end }}
      {{ with .Params.series -}}
          {{ range . }}
          {{- $name := . -}}
          {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
            <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
          {{ end -}}
          {{ end }}
      {{- end }}
    </div>
</ol>
    {{ end }}
    {{- range first 2 $6to20recommend | shuffle -}}
    <ol style="margin:1.5em auto">
    <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
    <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>
    <div class="des2 home">
      {{- with .Params.author -}}
          {{ range . }}
          {{- $name := . -}}
          {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
          <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
          {{- end -}}
          {{- end -}}
      {{- end -}}
      {{ with .Params.categories -}}
          {{ range . }}
          {{- $name := . -}}
          {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
            &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
          {{ end -}}
          {{ end }}
      {{- end }}
      {{ with .Params.series -}}
          {{ range . }}
          {{- $name := . -}}
          {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
            <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
          {{ end -}}
          {{ end }}
      {{- end }}
    </div>
</ol>
  {{ end }}
  {{- range first 2  $21to30recommend | shuffle -}}
  <ol style="margin:1.5em auto">
  <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
  <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>
  <div class="des2 home">
    {{- with .Params.author -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
        <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{ with .Params.categories -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
          &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
        {{ end -}}
        {{ end }}
    {{- end }}
    {{ with .Params.series -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
          <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
        {{ end -}}
        {{ end }}
    {{- end }}
  </div>
</ol>
  {{ end }}
  {{ else if ge (len $recommend) 11 }}
  {{- range first 3 $recommend | shuffle -}}
  <ol style="margin:1.5em auto">
  <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
  <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>
  <div class="des2 home">
    {{- with .Params.author -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
        <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{ with .Params.categories -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
          &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
        {{ end -}}
        {{ end }}
    {{- end }}
    {{ with .Params.series -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
          <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
        {{ end -}}
        {{ end }}
    {{- end }}
  </div>
</ol>
  {{ end }}
  {{- range first 2 $6to10recommend | shuffle -}}
  <ol style="margin:1.5em auto">
  <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
  <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>
  <div class="des2 home">
    {{- with .Params.author -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
        <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{ with .Params.categories -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
          &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
        {{ end -}}
        {{ end }}
    {{- end }}
    {{ with .Params.series -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
          <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
        {{ end -}}
        {{ end }}
    {{- end }}
  </div>
</ol>
  {{ end }}
  {{- range first 2 $11to20recommend | shuffle -}}
  <ol style="margin:1.5em auto">
  <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
  <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>
  <div class="des2 home">
    {{- with .Params.author -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
        <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{ with .Params.categories -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
          &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
        {{ end -}}
        {{ end }}
    {{- end }}
    {{ with .Params.series -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
          <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
        {{ end -}}
        {{ end }}
    {{- end }}
  </div>
</ol>
  {{ end }}
  {{ else if le (len $recommend) 10 }}
  {{- range first 7 $recommend | shuffle -}}
  <ol style="margin:1.5em auto">
  <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
  <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>
  <div class="des2 home">
    {{- with .Params.author -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
        <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{ with .Params.categories -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
          &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
        {{ end -}}
        {{ end }}
    {{- end }}
    {{ with .Params.series -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
          <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
        {{ end -}}
        {{ end }}
    {{- end }}
  </div>
</ol>
  {{ end }}
  {{ end }}
  {{ $current := slice }}
  {{ $current = $current | append . }}
{{ $other := $.Site.RegularPages |  complement $current $recommend (where .Site.RegularPages "Type" "gallery") (where .Site.RegularPages "Type" "block")  (where .Site.RegularPages "Type" "zanfu") (where .Site.RegularPages "Type" "xuekan") | shuffle }}
{{ $categories := slice }}
{{ range .Site.Taxonomies.categories.ByCount }}
{{ with .Pages | shuffle }}
{{ $cate := . }}
{{ range first 1 $cate }}
{{ $categories =  $categories | append  . }}
{{ end }}
{{ end }}
{{ end }}
{{ $others := intersect  $categories  $other }}
{{  range first 2 $others | shuffle }}
<ol style="margin:1.5em auto">
<span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
<div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{- .Title | safeHTML | markdownify -}}</a></div>

<div class="des2 home">
  {{- with .Params.author -}}
      {{ range . }}
      {{- $name := . -}}
      {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
      <a style="font-size:.9em" href="/author/{{ $name }}">@{{ $name }}</a>
      {{- end -}}
      {{- end -}}
  {{- end -}}
  {{ with .Params.categories -}}
      {{ range . }}
      {{- $name := . -}}
      {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
        &nbsp<a style="font-size:.9em" href="/categories/{{ $name }}"  target="_blank">[{{ $name }}]</a>
      {{ end -}}
      {{ end }}
  {{- end }}
  {{ with .Params.series -}}
      {{ range . }}
      {{- $name := . -}}
      {{- with $.Site.GetPage "taxonomy" (printf "series/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "series/%s" ($name | urlize))) -}}
        <a style="font-size:.9em" href="/series/{{ $name }}"  target="_blank">{{- $name -}}｜</a>
      {{ end -}}
      {{ end }}
  {{- end }}
</ol>
  {{ end }}
  </div>
</div>
{{ $1date := sub .Date.Unix 31276800  }}
{{ $2date := sub .Date.Unix 31795200 }}
{{ $3date := sub .Date.Unix 62812800 }}
{{ $4date := sub .Date.Unix  63331200 }}
{{ $5date := sub .Date.Unix 94348800 }}
{{ $6date := sub .Date.Unix  94867200 }}
{{ $7date := sub .Date.Unix 125971200 }}
{{ $8date := sub .Date.Unix 126489600 }}
{{ $9date := sub .Date.Unix 157507200 }}
{{ $10date := sub .Date.Unix 158025600 }}
{{ $11date := sub .Date.Unix 189043200 }}
{{ $12date := sub .Date.Unix 189561600 }}
{{ $13date := sub .Date.Unix 220579200 }}
{{ $14date := sub .Date.Unix  221097600 }}
{{ $15date := sub .Date.Unix 252201600 }}
{{ $16date := sub .Date.Unix  252720000 }}
{{ $21date := add .Date.Unix 31276800  }}
{{ $22date := add .Date.Unix 31795200 }}
{{ $23date := add .Date.Unix 62812800 }}
{{ $24date := add .Date.Unix  63331200 }}
{{ $25date := add .Date.Unix 94348800 }}
{{ $26date := add .Date.Unix  94867200 }}
{{ $27date := add .Date.Unix 125971200 }}
{{ $28date := add .Date.Unix 126489600 }}
{{ $29date := add .Date.Unix 157507200 }}
{{ $30date := add .Date.Unix 158025600 }}
{{ $31date := add .Date.Unix 189043200 }}
{{ $32date := add .Date.Unix 189561600 }}
{{ $33date := add .Date.Unix 220579200 }}
{{ $34date := add .Date.Unix  221097600 }}
{{ $35date := add .Date.Unix 252201600 }}
{{ $36date := add .Date.Unix  252720000 }}
<div class="recommend" style="text-align:center;margin-top:-6em;line-height:1.9">
<h3 style="color:var(--gray)">過去與未來的本周</h3>
{{ range  (where .Site.RegularPages.ByDate "Type" "post") }}
{{ $currentdate := .Date.Unix }}
{{ if and (ge $currentdate $2date) (le $currentdate $1date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $4date) (le $currentdate $3date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $6date) (le $currentdate $5date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $8date) (le $currentdate $7date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $10date) (le $currentdate $9date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $12date) (le $currentdate $11date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $14date) (le $currentdate $13date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $16date) (le $currentdate $15date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $21date) (le $currentdate $22date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $23date) (le $currentdate $24date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $25date) (le $currentdate $26date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $27date) (le $currentdate $28date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $29date) (le $currentdate $30date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $31date) (le $currentdate $32date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $33date) (le $currentdate $34date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ else if and (ge $currentdate $35date) (le $currentdate $36date) }}
<div><a href="{{ .RelPermalink }}">{{- .Title | safeHTML | markdownify -}}</a> <time class="archive-info">{{  .Date.Format "2006-01-02" }}</time></div>
{{ end }}
{{ end }}
</div>
</nav>


<section class="u-wrapper">
  <div class="u-padding">
{{ partial "comments.html" . }}
</div></section>
</main>
    {{ partial "footer.html" . }}
{{ end }}
