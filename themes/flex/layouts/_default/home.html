{{ define "main" }}
    <main class="home">
      <section class="home-cover">
    <div class="heading-wrap home home1">
      <h1 style="color:#2b2b2b"><span style="letter-spacing:.2em">赫赫文</span>王</h1>
      <div class="label">永嘉田家後/　生於九五後/<br>長于錦官城/　讀的厤史系/</div>
      <div class="des des-home">歡迎來到我的主頁。您看到的每箇細節都經過了精心打磨：
        <a href="/149" target="_blank">版面樣式</a>；<a href="/224" target="_blank">統計</a>；<a href="/223" target="_blank">文章推薦</a>；<a href="226" target="_blank">每二小時定時生成</a>；索引導航；打開速度</div>
      {{- $length := len .Site.RegularPages }}
      {{ $count := 0 }}{{ range .Site.RegularPages }}{{ $count = add $count .WordCount  }}{{ end }}
    <div class="des1" style="margin:7em auto 0;color:#2b2b2b">
    凡 {{ $length }} 篇　{{- $count }} 字　篇均 {{ div $count $length }} 字　{{- with .Site.RegularPages.GroupByDate "2006" -}}橫跨 {{ len . }} 年{{- end -}}
<br>已運行 {{ div (sub now.Unix (time "2017-10-03T10:30:00.00+10:00").Unix ) 86400 }} 日　
<span class="subscribe-wrap des1">
  <a class="rss3" href="/index.xml" target="_blank"><span class="rss1">feed</span><span class="rss2">RSS</span></a>
　<a class="rss3" href="https://kujihhoe.us17.list-manage.com/subscribe/post?u=3fb7b2733301fbcf39ec69597&id=6819d3d05d" target="_blank"><span class="rss1">Mail</span><span class="rss2">SUBSCRIBE</span></a>
</span>
  </div>
      </div>
    </section>
<section class="sentence">
{{ $all := slice }}
    {{ range .Site.Data.sentence  }}
    {{ range  .sentence }}
    {{ $all = $all | append . }}
    {{ end }}
    {{ end }}
{{ with $all | shuffle }}
{{ range first 1 . }}
{{ $1all := split . "——" }}
<div class="des1" style="margin-bottom:2em;color:var(--gray)">Timestamp  {{ dateFormat "2006-01-02 15:04" now.UTC }} UTC</div>
<div class="quote">『</div><div class="sentence1">{{- index $1all 0 -}}</div>
<div class="sentence2">——{{- index $1all 1 | safeHTML -}}</div>
{{ end }}
{{ end }}
</section>
<br><br><br><br><br><br><br><br><br>
<section>
  <h1 id="gallery">作品 Works</h1>
  <div class="discover-des">按最近修改排序</div>
  <div class="discover-wrap works" style="max-width:63em">
  <div class="discover gallery">
    {{ range  (where .Site.RegularPages.ByLastmod.Reverse "Type" "gallery") }}
    <ol>
  <h2 style="margin:0"><a href="{{ .Permalink }}"  target="_blank">{{ .Title | safeHTML }}</a></h2>
  <div class="archive-info">{{- .Page.Lastmod.Format "2006-01-02" }}</div>
  {{- .Page.Params.des | safeHTML -}}
  </ol>{{ end }}
    </div>
  </div>
  <div class="des" style="margin-bottom:7em">以及，這箇網站。</div>
</section>
<section class="section2">
    <h1 id="discover" class="sectionh1"><span style="font-size:.3em;letter-spacing:.25em">赫赫文王»<a href="/post" target="_blank">网誌</a>»</span><span style="letter-spacing:.2em">發</span>現
    </h1>
  <h1>最近發布 Latest</h1>
<div class="discover-wrap latest">
<div class="discover categories">
  {{ range first 8 (where .Site.RegularPages.ByPublishDate.Reverse "Type" "post") }}
  <ol style="margin:1em auto">
  <span class="archive-info"><time>{{ .Date.Format "2006-01-02" }}</time>{{ if ne .Date .Lastmod }} > {{ .Lastmod.Format "06-01-02" }}{{ end }}</span>　
  <div class="discover-item latest"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{ .Title | safeHTML  }}</a></div>
  <span class="des2 home">{{ .Params.description | safeHTML  | markdownify }}</span>
  <div class="des2 home">
    {{- with .Params.author -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "author/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "author/%s" ($name | urlize))) -}}
        <a href="/author/{{ $name }}">@{{- $name -}}</a>
        {{- end -}}
        {{- end -}}
    {{- end -}}
    {{ with .Params.categories -}}
        {{ range . }}
        {{- $name := . -}}
        {{- with $.Site.GetPage "taxonomy" (printf "categories/%s" $name) | default ($.Site.GetPage "taxonomy" (printf "categories/%s" ($name | urlize))) -}}
          　<a href="/categories/{{ $name }}"  target="_blank">[{{- $name -}}]</a>
        {{ end -}}
        {{ end }}
    {{- end }}
  </div>
</ol>
  {{ end }}
  </div>
</div>
  <h1>最近修改 Recently Modified</h1>
<div class="discover-wrap works" style="margin-bottom:6em">
<div class="discover" >
  {{ $lastmod := slice }}
{{ range   (where .Site.RegularPages.ByLastmod.Reverse "Type" "post")  }}
{{ if ne .Lastmod .Date }}
{{ $lastmod =$lastmod | append . }}
{{ end }}
{{ end }}
<ul>
{{ range first 10 $lastmod }}
<li><span class="archive-info"style="margin:auto">{{ .Lastmod.Format "2006-01-02" }}</span>　<a href="{{ .Permalink }}"  target="_blank">{{ .Title | safeHTML  }}</a>
</li>
{{ end }}</ul>
</div>
</div>
<h1>分類 Categories</h1>
<div class="discover-des">隨機 8 箇分類</div>
<div class="discover-wrap latest">
<div class="discover categories">
  {{ $auth := slice }}
  {{ $1auth := slice }}
  {{ range .Site.Taxonomies.author.ByCount }}
  {{ if eq .Page.Title  "柯棋瀚" }}
  {{ $1auth = $1auth | append . }}
  {{ end }}
  {{ end }}
  {{ range $1auth  | shuffle  }}
          {{ range .Pages  | shuffle }}
  {{ $auth = $auth | append . }}
  {{ end }}
  {{ end }}
  {{ $series := slice }}
    {{ $1series := slice }}
    {{ $2series := slice }}
    {{ $3series := slice }}
    {{ range .Site.Taxonomies.series.赫赫指北 }}
        {{ $1series = $1series | append .Page }}
    {{ end }}
    {{ range .Site.Taxonomies.series.推介 }}
        {{ $2series = $2series | append .Page }}
    {{ end }}
    {{ with (where .Site.RegularPages "Type" "post") }}
    {{ $3series = . | complement $1series $2series }}
{{ end }}
{{ $series = intersect  $3series $auth  }}
  {{ $allCate := where .Site.Taxonomies.categories "Type" "post" }}
  {{ with $allCate.ByCount | shuffle }}
  {{ range first 8 . }}
{{ $first2 := slice }}
{{ range first 2 .Pages }}
{{ $first2 = $first2 | append . }}
{{ end }}
{{ $First2inSeries :=  intersect $series $first2  }}
{{ $thisCateinSeries := slice }}
{{ $end := slice }}
{{ $thisCate := slice }}
    {{ range .Pages | shuffle }}
        {{ $thisCate = $thisCate | append . }}
    {{ end }}
{{ $thisCateinSeries := intersect $thisCate $series }}
{{ $end := $thisCateinSeries | complement $First2inSeries  }}
<ol>
<h2 style="margin:0"><a href="{{ .Page.Permalink }}" target="_blank">{{ .Page.Title | safeHTML  }}</a></h2>
<div class="discover-des" style="margin-top:.5em;text-align:left">最近 Latest</div>
{{ range $first2 }}
<div class="discover-item"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{ .Title | safeHTML  }}</a></div>
{{ end }}
    <div class="discover-des"style="margin:0;text-align:left">隨機 Random</div>
{{ range first 2 $end | shuffle }}
<div class="discover-item"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{ .Title | safeHTML  }}</a></div>
{{ end }}
</ol>
{{ end }}{{ end }}
</div>
</div>
  <div class="discover-wrap latest" style="max-width:50em;background:var(--bg);border-radius:2.5em">
    <h1>其他作者 More Authors</h1>
    <center><span class="des move">！歡迎踴躍投稿！稿費沒有嘻嘻</span></center>
  <div class="discover categories">
{{ $author := slice }}
{{ range .Site.Taxonomies.author.ByCount }}
{{ if ne .Page.Title  "柯棋瀚" "柯棋瀚整理" }}
{{ $author = $author | append . }}
{{ end }}
{{ end }}
{{ range $author  | shuffle  }}
<ol style="list-style:none">
        <h2 style="font-size:1.2em"><a href="{{ .Page.RelPermalink }}" target="_blank">@{{ .Page.Title | safeHTML }}</a></h2>
        {{ range .Pages  | shuffle }}
<li style="margin-top:.8em"><a href="{{ .Permalink }}" class="archive-post-link"  target="_blank">{{ .Title | safeHTML  }}</a></li>
{{ end }}
</ol>
{{ end }}

</div></div>
<h1>年度 🔝 of the Year</h1>
<div class="discover-des">以每年10月3日爲界，按瀏覽量排序。瀏覽量不等於質量，以下排序不代表博主意願。排除索引、非原創頁面</div>
<div class="discover-wrap" style="max-width:40em">
<div class="discover" >
<ol>
  <h2>2017-2018</h2>
  {{ range .Site.Menus.top2018  }}
      <li><a href="{{ .Page.Permalink }}"  target="_blank">{{ .Name | safeHTML }}</a></li>
  {{ end }}
</ol>
<ol>
  <h2>2018-2019</h2>
  {{ range .Site.Menus.top2019  }}
      <li><a href="{{  .Page.Permalink  }}"  target="_blank">{{ .Name | safeHTML }}</a></li>
  {{ end }}
</ol>
</div>
</div>
</section>
<section class="section3">
  <h1 id="wiki" class="sectionh1"><span style="font-size:.3em;letter-spacing:.25em">赫赫文王»</span><span style="letter-spacing:.2em">知</span>識
  </h1>
<div class="gallery" style="margin:0">
  <div class="paper-wrap">
    <h1 style="margin-top:0"><a href="/tutorial" target="_blank">赫赫指北</a></h1>
    <div class="discover-des" style="margin: 0 auto 1em">隨機生成 Random</div>
  <div class="paper-card recording" style="max-height:none;border:none;max-width:18em"><div class="paper-card-in">
      {{- range first 5  (shuffle (where .Site.RegularPages.ByDate.Reverse "Type" "tutorial")) -}}
      <li style="list-style:none"><span class="archive-info"style="margin:auto">{{ .Date.Format "06-01-02" }}</span>　<a href="{{ .Permalink }}" target="_blank">{{- .Title | safeHTML }}</a></li>
      {{ end }}
  </div></div></div>
<div class="paper-wrap">
  <h1 style="margin-top:0"><a href="/read" target="_blank">讀書</a></h1>
  <div class="discover-des" style="margin: 0 auto 1em">最近發布 Latest</div>
<div class="paper-card recording" style="max-height:none;border:none;max-width:18em"><div class="paper-card-in">
    {{- range first 5  (where .Site.RegularPages.ByDate.Reverse "Type" "read") -}}
    <li style="list-style:none"><span class="archive-info"style="margin:auto">{{ .Date.Format "06-01-02" }}</span>　<a href="{{ .Permalink }}" target="_blank">{{- .Title | safeHTML }}</a></li>
    {{ end }}
</div></div></div>
<div class="paper-wrap">
  <h1 style="margin-top:0"><a href="/recommend" target="_blank">推介</a></h1>
  <div class="discover-des" style="margin: 0 auto 1em">最近發布 Latest</div>
<div class="paper-card recording" style="max-height:none;border:none;max-width:18em"><div class="paper-card-in">
    {{- range first 5  (where .Site.RegularPages.ByDate.Reverse "Type" "recommend") -}}
    <li style="list-style:none"><span class="archive-info"style="margin:auto">{{ .Date.Format "06-01-02" }}</span>　<a href="{{ .Permalink }}" target="_blank">{{- .Title | safeHTML }}</a></li>
    {{ end }}
</div></div></div>
<div class="paper-wrap">
  <h1 style="margin-top:0"><a href="/exam" target="_blank">考試</a></h1>
  <div  class="des" style="margin-top:-1em;font-size:1.1em">整理的考試複習資料。世界上最沒用的東西</div>
  <div class="discover-des" style="margin: 0 auto 1em">隨機生成 Random</div>
<div class="paper-card recording" style="max-height:none;border:none;max-width:18em"><div class="paper-card-in">
  {{- range first 5 (shuffle (where .Site.RegularPages.ByDate "Type" "exam")) -}}
  <li style="list-style:none"><span class="archive-info"style="margin:auto">{{ .Date.Format "06-01-02" }}</span>　<a href="{{ .Permalink }}" target="_blank">{{- .Title }}</a></li>
  {{- end -}}
</div></div></div>
</div>
</section>
<section class="section4">
  <h1 id="data" class="sectionh1"><span style="font-size:.3em;letter-spacing:.25em">赫赫文王»</span><span style="letter-spacing:.2em">數據</span>庫
  </h1>
<div class="gallery" style="margin:0">
<div class="paper-wrap">
  <h1 style="margin-top:0"><a href="/zanfu" target="_blank">赫赫讚府 Reorganized Commentaries</a></h1>
  <div  class="des" style="margin-top:-1em;font-size:1.1em">收集網路評論等，按主題進行編排，爲當下的厤㕜提供一些索引</div>
    <div class="discover-des" style="margin: 0 auto 1em">最近修改</div>
<div class="paper-card recording"style="border:none"><div class="paper-card-in">
{{ range first 10 (where .Site.RegularPages.ByLastmod.Reverse "Type" "zanfu") }}
        <div >
          <span class="archive-info" style="margin:auto">{{ .Lastmod.Format "06-01-02" }}</span>　<a href="{{ .Permalink }}"  target="_blank">{{ .Title | safeHTML  }}</a>
        </div>
{{ end }}
</div></div></div>
<div class="paper-wrap">
<h1 style="margin-top:0"><a href="/xuekan" target="_blank">春秋學刊</a></h1>
<div  class="des" style="margin-top:-1em;font-size:1.1em">北師大歷史學院本科生學術刊物</div>
  <div class="discover-des" style="margin: 0 auto 1em">最近發布</div>
<div class="paper-card recording" style="max-height:none;border:none"><div class="paper-card-in">
          {{ range first 5 (where .Site.Taxonomies.categories.目錄 "Type" "xuekan") }}
                    <div >
                      <time class="archive-info"style="margin:auto">{{ .Date.Format "06-01-02" }}</time>　<a href="{{ .Permalink }}"  target="_blank">{{ .Title | safeHTML  }}</a>
                    </div>
          {{ end }}
</div></div></div>
<div class="paper-wrap" style="max-width:32em">
<h1 style="margin-top:0"><a href="/qinpu" target="_blank">傳世琴譜數字文本化工程</a></h1>
<div  class="des" style="margin-top:-1em;font-size:1.1em">是學術性的而非音樂性的，不提供流行樂譜。減字譜的數字文本化將爲深入化的古琴研究提供基礎。
這項工程前無古人，需要耗費巨大的精力。我目前沒這功夫，眞正啓動可能要等到四五秊之後，現在處於預備狀態</div>
<div class="paper-card recording" style="max-height:none;border:none"><div class="paper-card-in">
{{ range .Site.Taxonomies.toc.Alphabetical }}
  <li><a href="{{ .Page.Permalink }}" target="_blank">{{- .Page.Title | safeHTML -}}</a></li>
    {{ end }}
</div></div></div>
<div class="paper-wrap">
<h1 style="margin-top:0"><a href="/doc" target="_blank">文庫</a></h1>
<div  class="des" style="margin-top:-1em;font-size:1.1em">平時上課的錄文。量很少</div>
<div class="paper-card recording" style="max-height:none;border:none"><div class="paper-card-in">
{{ range first 10 (where .Site.RegularPages.ByDate "Type" "doc") }}
    <li><a href="{{ .Permalink }}" target="_blank">{{ .Title }}</a></li>
{{ end }}
</div></div></div>
</div>
</section>
  </main>
{{ partial "footer-xuekan.html" . }}
{{ end }}
