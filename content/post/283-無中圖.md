---
author: ["柯棋瀚"]
title: "大小月、無中氣置閏圖；固定冬至、無中氣置閏圖"
date: 2021-01-29
lastmod: 2021-01-31
categories: ["經"]
series: ["雩若記"]
tags: ["厤筭"]
url: /post/midterm-leap
description: '直觀看到大小月形成的原因；無中氣置閏法的原理。爲什麼建寅固定冬至閏年比無中氣提前一年？'
img: 'https://pic.imgdb.cn/item/6013db723ffa7d37b35e6ef1.jpg'
vertical: false
---

## 一、大小月、無中氣置閏圖

<img src="https://pic.imgdb.cn/item/6013cecf3ffa7d37b35862aa.jpg" width="400">

一個朔望月大約有29.531日，如果合朔時刻在紅色區間，這個月是大月，有30日，如果在青色區間，是小月，有29日。漢代以後安排閏月採用無中氣置閏法，在明代以前都用平氣，即每個中氣相隔一回歸年的1/12，大約30.437日。如果該閏月爲大月，上月和下月中氣時刻可以在黃色區間，如果該閏月爲小月，上月和下月中氣時刻可以在紫色區間，這樣能保證該月無中氣，爲閏月。閏余法置閏和無中氣法置閏有時會不一致，此圖可以幫助理解。

以下是我的隨記，不用看。

----

極端情況是，`(MidTermAvgRaw[LeapNumMidTerm] >= FirstOrderRaw[LeapNumMidTerm + 1]) && (MidTermAvgRaw[LeapNumMidTerm] < FirstOrderRaw[LeapNumMidTerm + 1] + 2 ` 最後的2改成1.437，那就最多提前1次，改成1.874，最多提前2次，改成2，最多提前3次。但是不可能超出2了。所以提前1次到提前3次出現的概率是依次減小。

~~閏餘法置閏和無中氣法置閏有出入，那麼無中氣法置閏的公式是什麼？~~

~~聯立以下不等式組：~~

~~閏月爲大月：~~

- ~~上氣+(MidTermLeng-30)>上月order~~
- ~~下氣-(MidTermLeng-30)<=下月order~~

~~閏月爲小月：~~

- ~~上氣+(MidTermLeng-29)>上月order~~
- ~~下氣-(MidTermLeng-29)<=下月order~~

~~整理得：~~

~~大月：~~

~~(上氣-下氣) -(上月order-下月order)>=-2*(MidTermLeng-30)~~

~~⋯⋯我在幹啥？？？~~

## 二、固定冬至、無中氣置閏圖

- 建丑建寅：大多數情況下固定冬至法的閏年比無中氣法提前一年。
- 建子：固定冬至法與無中氣法均在同一年。

固定冬至法：冬至必須在11月（建寅）/1月（建子）。無中氣法：沒有中氣的月份置閏。

該圖中氣爲平氣。

<img src="https://pic.imgdb.cn/item/601651263ffa7d37b33ef51f.jpg" width="700">



### 隨記

 現代人對這些概念都非常陌生，如果熟悉了就簡單了。閏餘=冬至月齡，當閏餘超過閏準的時候，該年就需要置閏。為什麼呢？歲實（回歸年）約365.2422日，朔望月約29.53日，一年12月，有354.36日，365.2422-354.36=10.8822日。一年就會多出來10多日。當每年的10多日累積超過一個朔望月的時候，該年就要置閏，防止冬至超過11月。我們為了計算方便，當閏餘超過閏準的時候就需要置閏。這只是建子（冬至所在月為子月）的情況。漢代以後都用建寅，多出來了兩個月，但是判斷閏年的標準依然是年前冬至。所以假設閏月在2月，減掉2以後，閏月就跑到上一年了，但是上一年閏餘還沒超過閏準，所以需要手工將上一年置閏。這種麻煩的事情是因為使用無中氣置閏法。如果用固定冬至置閏法，那建寅的閏年一般情況下就會自動提前一年，不需要手動干預。（為什麼固定冬至法會自動提前一年，見昨天發給你的圖）